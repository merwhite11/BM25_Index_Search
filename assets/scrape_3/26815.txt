How is magnetic field is generated over the sun?

Dynamo theory suggest how magnetic field generated on Earth. Due to flowing magma which contains molten iron generates magnetic field on earth. But how magnetic field is generated over sun?