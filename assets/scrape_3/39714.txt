Dependence of shape of stars and gas in galaxies on dark matter halo

I have studied about galaxies having different shapes. But do the stars and gas in galaxy have different geometrical shape separate from each other. What factors decide this?
I think that the mass of dark matter halo affects these shapes but how? Is there any relation connecting these two?