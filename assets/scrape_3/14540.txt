What are the conditions for an ionosphere to form?

What are the conditions for an ionosphere to form on a given planet? 
Factors I could think of are 

Class and age of the star the planet orbits
Distance to said star
Density and composition of the planet's atmosphere