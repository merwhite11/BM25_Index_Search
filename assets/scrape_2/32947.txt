What decides the shape of a galaxy?

As I know, most galaxies are spiral, some elliptical, and a rare type is ring-shaped. 
What causes a galaxy to become a specific shape (i.e. ring vs spiral)?