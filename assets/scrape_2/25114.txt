Core collapse supernova vs Neutron Star

I am reading about massive stars and their final consequences. what I understood is massive stars after throwing out their outer envelop with masses > 1.4 solar Mass turn into neutron stars. But I also know that Massive stars can collapse to form a type II supernova. I need to understand how we determine which stars go through which final fate. And what initial mass they have to start their life with for both fates.
I ma be completely wrong with my understandings. Your clarifications will help a lot.